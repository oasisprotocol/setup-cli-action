{"version":3,"file":"index.js","sources":["../src/main.ts","../src/index.ts"],"sourcesContent":["import * as core from '@actions/core'\nimport { wait } from './wait.js'\n\nconst core = require('@actions/core');\nconst tc = require('@actions/tool-cache');\n\nmodule.exports = setup\n\n/**\n * The main function for the action.\n *\n * @returns Resolves when the action is complete.\n */\nexport async function run(): Promise<void> {\n  try {\n    // Log the current timestamp, wait, then log the new timestamp\n    const version = core.getInput('version');\n    core.debug(`Setting up Oasis CLI version: ${version} ...`)\n\n    // Download the specific version of the tool, e.g. as a tarball\n    const pathToTarball = await tc.downloadTool(`https://github.com/oasisprotocol/cli/releases/download/v${version}/oasis_cli_${version}_linux_amd64.tar.gz`);\n\n    // Extract the tarball onto the runner\n    const pathToCLI = await tc.extractTar(pathToTarball);\n\n    // Expose the tool by adding it to the PATH\n    core.addPath(pathToCLI)\n\n    // Set outputs for other workflow steps to use\n    core.debug(`Oasis CLI version: ${version} ready to use.`)\n  } catch (error) {\n    // Fail the workflow run if an error occurs\n    if (error instanceof Error) core.setFailed(error.message)\n  }\n}\n","/**\n * The entrypoint for the action. This file simply imports and runs the action's\n * main logic.\n */\nimport { run } from './main.js'\n\n/* istanbul ignore next */\nrun()\n"],"names":[],"mappings":";;AAGA,MAAM,IAAI,GAAG,OAAO,CAAC,eAAe,CAAC;AACrC,MAAM,EAAE,GAAG,OAAO,CAAC,qBAAqB,CAAC;AAEzC,MAAM,CAAC,OAAO,GAAG,KAAK;AAEtB;;;;AAIG;AACI,eAAe,GAAG,GAAA;AACvB,IAAA,IAAI;;QAEF,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;AACxC,QAAA,IAAI,CAAC,KAAK,CAAC,iCAAiC,OAAO,CAAA,IAAA,CAAM,CAAC;;AAG1D,QAAA,MAAM,aAAa,GAAG,MAAM,EAAE,CAAC,YAAY,CAAC,CAAA,wDAAA,EAA2D,OAAO,CAAA,WAAA,EAAc,OAAO,CAAA,mBAAA,CAAqB,CAAC;;QAGzJ,MAAM,SAAS,GAAG,MAAM,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC;;AAGpD,QAAA,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;;AAGvB,QAAA,IAAI,CAAC,KAAK,CAAC,sBAAsB,OAAO,CAAA,cAAA,CAAgB,CAAC;IAC3D;IAAE,OAAO,KAAK,EAAE;;QAEd,IAAI,KAAK,YAAY,KAAK;AAAE,YAAA,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC;IAC3D;AACF;;AClCA;;;AAGG;AAGH;AACA,GAAG,EAAE;;"}